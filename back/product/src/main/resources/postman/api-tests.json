{
  "info": {
    "name": "Product API Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Creer compte utilisateur",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/account",
        "body": {
          "mode": "raw",
          "raw": "{\"email\":\"user@example.com\",\"password\":\"pass123\",\"username\":\"testuser\",\"firstname\":\"testuser\" }"
        }
      }
    },
    {
      "name": "Connexion utilisateur",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/token",
        "body": {
          "mode": "raw",
          "raw": "{\"email\":\"user@example.com\",\"password\":\"pass123\"}"
        }
      }
    },
    {
      "name": "Créer un produit",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/products",
        "body": {
          "mode": "raw",
          "raw": "{\"code\":\"PROD-001\",\"name\":\"Produit Test\",\"description\":\"Description du produit\",\"price\":19.99,\"quantity\":100,\"category\":\"Catégorie Test\",\"internalReference\":\"REF001\",\"shellId\":123,\"inventoryStatus\":\"INSTOCK\",\"rating\":5}"
        }
      }
    },
    {
      "name": "Lister tous les produits",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/products"
      }
    },
    {
      "name": "Récupérer un produit par ID",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/products/1"
      }
    },
    {
      "name": "Mettre à jour un produit",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Content-Type", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/products/1",
        "body": {
          "mode": "raw",
          "raw": "{\"code\":\"PROD-001\",\"name\":\"Produit Test Modifié\",\"description\":\"Nouvelle description\",\"price\":29.99,\"quantity\":50,\"category\":\"Catégorie Modifiée\",\"internalReference\":\"REF001\",\"shellId\":123,\"inventoryStatus\":\"INSTOCK\",\"rating\":4}"
        }
      }
    },
    {
      "name": "Supprimer un produit",
      "request": {
        "method": "DELETE",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/products/1"
      }
    },
    {
      "name": "Ajouter un produit au panier",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/cart/add?productId=1&quantity=2"
      }
    },
    {
      "name": "Supprimer un produit du panier",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/cart/remove?productId=1"
      }
    },
    {
      "name": "Vider le panier",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/cart/clear"
      }
    },
    {
      "name": "Afficher le panier",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/cart"
      }
    },
    {
      "name": "Ajouter un produit à la wishlist",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/wishlist/add?productId=1"
      }
    },
    {
      "name": "Supprimer un produit de la wishlist",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/wishlist/remove?productId=1"
      }
    },
    {
      "name": "Vider la wishlist",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/wishlist/clear"
      }
    },
    {
      "name": "Afficher la wishlist",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer {{jwtToken}}" }
        ],
        "url": "{{baseUrl}}/api/wishlist"
      }
    }
  ]
}
